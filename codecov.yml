# Codecov configuration for monorepo
# https://docs.codecov.com/docs/codecov-yaml

coverage:
  status:
    project:
      default:
        target: auto
        threshold: 1%
        if_ci_failed: error
    patch:
      default:
        target: auto
        threshold: 1%
        if_ci_failed: error

# Ignore paths that shouldn't affect coverage
ignore:
  - "**/__tests__/**"
  - "**/*.test.ts"
  - "**/*.test.js"
  - "**/*.config.ts"
  - "**/*.config.js"
  - "**/dist/**"
  - "**/coverage/**"
  - "**/node_modules/**"
  - "tools/**"
  - "scripts/**"
  - "apps/docs/**"

# Component paths for better organization
component_management:
  individual_components:
    - component_id: core
      name: "@unblessed/core"
      paths:
        - packages/core/**
    - component_id: node
      name: "@unblessed/node"
      paths:
        - packages/node/**
    - component_id: browser
      name: "@unblessed/browser"
      paths:
        - packages/browser/**
    - component_id: blessed
      name: "@unblessed/blessed"
      paths:
        - packages/blessed/**
    - component_id: vrt
      name: "@unblessed/vrt"
      paths:
        - packages/vrt/**

comment:
  layout: "reach,diff,flags,components"
  behavior: default
  require_changes: false